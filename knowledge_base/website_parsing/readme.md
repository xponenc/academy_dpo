# üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö

## –ò–Ω—Ñ–æ
20/05/2025: 
* –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ parsing_config.py
* –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ - async_selenium_parse_site_6.py
* –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ - sync_query_parce_site.py
* —Å–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É - test_query.py


## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WebDriver –¥–ª—è –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.  
   –î–ª—è Chrome ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Å—ã–ª–∫—É-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ —Ñ–∞–π–ª–µ:
   ```
   services/setup_webdriver.py
   ```

---

## üåê –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞

### 1. –£–∫–∞–∑–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ sitemap
–í —Ñ–∞–π–ª–µ `async_selenium_parse_site_5.py` —É–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É:
```python
SITEMAP_URL = "https://example.com/sitemap.xml"
```

### 2. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
–î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```python
TEST_MODE = False
```
> –í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ `TEST_REQUEST_LENGTH`.

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–∞–π—Ç–∞
–ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:
```python
CONCURRENCY_LIMIT = 5
```

### 4. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
```bash
python async_selenium_parse_site_6.py
```

### 5. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –∏–∑ `SITEMAP_URL`. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `SITEMAP_DATA_JSON`.
2. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö, –µ—Å–ª–∏ —Ñ–∞–π–ª `SITEMAP_DATA_JSON` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å—Å—ã–ª–∫–∏ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ –Ω–µ–≥–æ.
   > –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —É–¥–∞–ª–∏—Ç–µ `SITEMAP_DATA_JSON`.
3. –ó–∞–ø—Ä–æ—Å—ã –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ `CONCURRENCY_LIMIT` –ø–æ—Ç–æ–∫–æ–≤. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–∞–Ω–∫–∞–º–∏ –≤ `TEMP_CHUNKS_DIR`.
   > –≠—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±–æ—è—Ö.
4. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã —á–∞–Ω–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω—ã–π `PARSING_OUTPUT_JSON`.
5. –ü—Ä–∏ —Å–±–æ–µ:
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç.
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã-—á–∞–Ω–∫–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —É–∂–µ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö URL.
   - –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—á–∞—Ç—å —Å –Ω—É–ª—è ‚Äî —É–¥–∞–ª–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `TEMP_CHUNKS_DIR`.

---

## üñºÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞:

```json
{
  "url": "https://example.com/page",
  "status": 200,
  "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
  "page_categories": ["–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1", "–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2"],
  "page_content": "–¢–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã...",
  "page_images": [
    ["–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è", "https://example.com/image1.jpg"],
    ["–î—Ä—É–≥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", "https://example.com/image2.jpg"]
  ],
  "loc": "https://example.com/page",
  "lastmod": "2023-06-21",
  "changefreq": "daily",
  "priority": "0.9"
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   python process_images_list_3.py
   ```

2. –°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
   - –ù–∞–∂–º–∏—Ç–µ `y` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.
   - –ù–∞–∂–º–∏—Ç–µ `n` ‚Äî –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å.

3. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –¥—É–±–ª–∏ –ø–æ —Å—Å—ã–ª–∫–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–µ–Ω—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ.

4. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –º–µ—Ç–∫–æ–π `y` —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `IMAGE_SAVE_ROOT` —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–∞–π—Ç–∞.

---

## üì¶ –í—ã—Ö–æ–¥–Ω–æ–π JSON –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `PARSING_OUTPUT_W_READY_IMAGES_JSON` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ `PARSING_OUTPUT_JSON`, –Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:

```json
"page_images": [
  [
    "–î–∏–ø–ª–æ–º",
    "https://example.com/diploma.jpg",
    "skip"
  ],
  [
    "–£–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ",
    "https://example.com/certificate.jpg",
    "ocr"
  ]
]
```

---

## üìù TODO

- –°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π **–ø–æ—Ä—Ü–∏–æ–Ω–Ω–æ**, —á—Ç–æ–±—ã –Ω–µ –¥–µ—Ä–∂–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏ –≤—Å—ë —Å—Ä–∞–∑—É.
